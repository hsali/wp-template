jQuery(document).ready(function(e){"use strict";function r(e,r,a,o,l){var g={action:"load-markers",allproviers:e,address:r,city:a,catid:o,country:l},t=jQuery.param(g);jQuery.ajax({type:"POST",url:ajaxurl,data:t,dataType:"json",beforeSend:function(){},success:function(e,r){if(e.count>0){jQuery("#no-result").hide(),""==e.address&&""==e.city&&""==e.country?(googlecode_regular_vars.page_custom_zoom=zoomlevel,googlecode_regular_vars.general_latitude=defaultlat,googlecode_regular_vars.general_longitude=defaultlng):""!=e.address?(googlecode_regular_vars.page_custom_zoom=zoom_level_address,googlecode_regular_vars.general_latitude=e.lat,googlecode_regular_vars.general_longitude=e.lng):""!=e.city?(googlecode_regular_vars.page_custom_zoom=zoom_level_city,googlecode_regular_vars.general_latitude=e.lat,googlecode_regular_vars.general_longitude=e.lng):""!=e.country?(googlecode_regular_vars.page_custom_zoom=zoom_level_country,googlecode_regular_vars.general_latitude=e.lat,googlecode_regular_vars.general_longitude=e.lng):(googlecode_regular_vars.page_custom_zoom=zoomlevel,googlecode_regular_vars.general_latitude=defaultlat,googlecode_regular_vars.general_longitude=defaultlng);var a=jQuery.parseJSON(e.markers);refresh_marker(map,a)}else{jQuery("#no-result").show(),""==e.address&&""==e.city&&""==e.country?(googlecode_regular_vars.page_custom_zoom=zoomlevel,googlecode_regular_vars.general_latitude=defaultlat,googlecode_regular_vars.general_longitude=defaultlng):""!=e.address?(googlecode_regular_vars.page_custom_zoom=zoom_level_address,googlecode_regular_vars.general_latitude=e.lat,googlecode_regular_vars.general_longitude=e.lng):""!=e.city?(googlecode_regular_vars.page_custom_zoom=zoom_level_city,googlecode_regular_vars.general_latitude=e.lat,googlecode_regular_vars.general_longitude=e.lng):""!=e.country?(googlecode_regular_vars.page_custom_zoom=zoom_level_country,googlecode_regular_vars.general_latitude=e.lat,googlecode_regular_vars.general_longitude=e.lng):(googlecode_regular_vars.page_custom_zoom=zoomlevel,googlecode_regular_vars.general_latitude=defaultlat,googlecode_regular_vars.general_longitude=defaultlng);var a=jQuery.parseJSON(e.markers);refresh_marker(map,a)}initializeSearchMap(),jQuery("#no-result").hide()}})}function a(){var e=document.getElementById("searchAddress"),a=new google.maps.places.Autocomplete(e);google.maps.event.addListener(a,"place_changed",function(){var e=a.getPlace();if(e.geometry){for(var o="",l="",g=0;g<e.address_components.length;g++)for(var t=e.address_components[g],u=t.types,_=0;_<u.length;_++)if("locality"===u[_]||"sublocality"===u[_]||"sublocality_level_1"===u[_]||"postal_town"===u[_])var s=t.long_name;else if("administrative_area_level_1"===u[_]||"administrative_area_level_2"===u[_])var c=t.long_name;else if("country"===u[_])var n=t.long_name;var d=jQuery("#searchAddress").val(),v=d.replace(s,"");v=v.replace(c,""),v=v.replace(o,""),v=v.replace(l,""),v=jQuery.trim(v),v=v.replace(/,/g,""),v=v.replace(/ +/g," "),jQuery("#searchAddress").val(d);var i=jQuery("#categorysrh").val();r("",v,s,i,n)}})}var o=jQuery("#country").val(),l=jQuery("#categorysrh").val(),g=jQuery("#city").val();r("all","",g,l,o),jQuery("body").on("change","#categorysrh",function(){var e=jQuery(this).val(),a=jQuery("#country").val(),o=jQuery("#city").val();r("","",o,e,a)}),jQuery("body").on("change","#country",function(){var e=jQuery(this).val(),a=jQuery("#categorysrh").val(),o={action:"load_cities",country:e},l=jQuery.param(o);jQuery.ajax({type:"POST",url:ajaxurl,data:l,dataType:"json",success:function(e,r){"success"==e.status&&(jQuery("select[name='city']").html(e.html),jQuery("select[name='city']").selectpicker("refresh"))}}),r("","","",a,e)}),jQuery("body").on("change","#city",function(){var e=jQuery(this).val(),a=jQuery("#categorysrh").val(),o=jQuery("#country").val();r("","",e,a,o)}),google.maps.event.addDomListener(window,"load",a)});